# 성경말씀 소감 공유 서비스 PRD

## Product Requirements Document

### 1. 프로젝트 개요

#### 1.1 서비스 명

**Bible Daily** - 중고등학생 성경말씀 소감 공유 플랫폼

#### 1.2 목적

중고등학생들이 매일 성경말씀을 읽고 느낀 점을 자유롭게 나누며, 동료들과 소통하고 격려를 주고받을 수 있는 온라인 커뮤니티 플랫폼을 제공합니다.

#### 1.3 타겟 사용자

- **주 사용자**: 중고등학생 (13-19세)
- **보조 사용자**: 교사/청소년 지도자 (셀 담당자)
- **관리자**: 서비스 운영진

### 2. 기술 스택

#### 2.1 프론트엔드

- **React**: 사용자 인터페이스 구축
- **Vite**: 빠른 개발 환경 및 빌드 도구
- **TailwindCSS**: 유틸리티 기반 CSS 프레임워크
- **Shadcn/ui**: 컴포넌트 라이브러리
- **React Query**: 서버 상태 관리 및 데이터 페칭 라이브러리
- **PWA (Progressive Web App)**: 네이티브 앱과 같은 사용자 경험 제공
- **Node.js 버전**: 20.x
- **패키지 매니저**: pnpm

#### 2.2 백엔드

- **NestJS**: Node.js 기반 서버 프레임워크
- **TypeORM**: TypeScript 기반 ORM (Object-Relational Mapping)
- **MySQL**: 관계형 데이터베이스

#### 2.3 인증

- **Google OAuth 2.0**: 구글 계정 연동 로그인

### 3. 주요 기능 요구사항

#### 3.1 소감 게시판 기능

**목표**: 사용자들이 성경말씀에 대한 소감을 자유롭게 작성하고 공유할 수 있는 공간 제공

**세부 기능**:

- **게시물 등록**: 제목, 내용, 관련 성경 구절 입력
- **게시물 수정**: 자신이 작성한 게시물만 수정 가능
- **게시물 삭제**: 자신이 작성한 게시물만 삭제 가능 (논리 삭제)
- **게시물 상세보기**: 전체 내용, 작성자, 작성일, 좋아요 수 표시
- **게시물 목록**: 최신순 정렬, 제목/작성자 검색 기능
- **페이징**: 한 페이지당 20개 게시물 표시

**제약사항**:

- 게시물 최대 길이: 1000자
- 욕설/부적절한 내용 필터링 기능 필요

#### 3.2 게시물 좋아요 기능

**목표**: 다른 사용자의 소감에 공감과 격려를 표현할 수 있는 기능

**세부 기능**:

- 좋아요 버튼 클릭으로 좋아요/취소 토글
- 실시간 좋아요 수 업데이트
- 자신의 게시물에는 좋아요 불가
- 중복 좋아요 방지

#### 3.3 미션 말씀 보기 기능

**목표**: 관리자가 등록한 일일 성경 읽기 미션을 확인할 수 있는 기능

**세부 기능**:

- 오늘의 미션 말씀 표시 (메인 페이지)
- 미션 말씀 상세 내용 보기
- 읽기 완료 체크 기능
- 미션 말씀 히스토리 조회 (달력 형태)
- 읽기 진행률 표시

#### 3.4 PWA 기반 알림 기능

**목표**: PWA를 통한 로컬 및 리모트 푸시 알림으로 사용자 참여도 향상

**세부 기능**:

##### 3.4.1 리모트 푸시 알림

- 새 미션 말씀 등록 시 푸시 알림
- 셀 담당자 독려 메시지 알림
- 내 게시물에 좋아요 등록 시 알림
- 중요 공지사항 알림

##### 3.4.2 로컬 알림

- 매일 정해진 시간에 성경 읽기 리마인더
- 미션 마감 전 알림 (예: 오후 9시)
- 연속 읽기 달성 축하 알림
- 주간/월간 활동 요약 알림

##### 3.4.3 알림 관리

- 알림 유형별 설정 ON/OFF 기능
- 알림 시간 개별 설정 가능
- 방해 금지 시간 설정 (예: 수업 시간)
- 알림 히스토리 조회 및 관리

##### 3.4.4 PWA 기능

- 앱 설치 배너 표시
- 오프라인 기본 기능 지원
- 홈 스크린 추가 기능
- 앱과 같은 전체 화면 모드

**기술 구현**:

- **Service Worker**: 백그라운드 동작 및 푸시 알림 처리
- **Web Push Protocol**: 서버에서 클라이언트로 푸시 메시지 전송
- **Notification API**: 브라우저 알림 표시
- **Background Sync**: 오프라인 상태에서도 데이터 동기화
- **Cache API**: 오프라인 리소스 캐싱
- **Web App Manifest**: PWA 메타데이터 정의

#### 3.5 셀(그룹) 구성 기능

**목표**: 소그룹 단위로 구성원을 관리하고 독려할 수 있는 기능

**세부 기능**:

##### 3.5.1 셀 담당자 기능

- 셀 구성원 목록 조회
- 구성원별 로그인 현황 확인
- 구성원별 성경 읽기 완료 현황 확인
- 구성원에게 독려 메시지 전송 (개별/단체)
- 셀 활동 통계 대시보드

##### 3.5.2 셀 구성원 기능

- 소속 셀 정보 확인
- 셀 내 구성원 소감 우선 표시
- 셀 담당자 메시지 수신

**권한 관리**:

- 셀 담당자는 관리자가 지정
- 한 사용자는 하나의 셀에만 소속

#### 3.6 구글 로그인 기능

**목표**: 간편하고 안전한 로그인 경험 제공

**세부 기능**:

- Google OAuth 2.0 연동
- 프로필 정보 자동 입력 (이름, 이메일, 프로필 사진)
- 자동 로그인 유지
- 로그아웃 기능

### 4. 관리자 기능

#### 4.1 미션 말씀 관리

**목표**: 일일 성경 읽기 미션을 체계적으로 관리

**세부 기능**:

- **미션 등록**: 날짜, 성경 구절 범위, 제목, 설명 입력
- **미션 수정**: 등록된 미션 내용 수정
- **미션 삭제**: 미션 삭제 (단, 사용자 활동이 있는 경우 삭제 제한)
- **미션 목록**: 월별/주별 미션 조회
- **미션 템플릿**: 연간 성경 읽기 계획 템플릿 제공

**입력 데이터**:

- 날짜 (필수)
- 시작 성경책명 (필수)
- 시작 장:절 (필수)
- 끝 성경책명 (선택 - 미입력 시 시작 성경책과 동일)
- 끝 장:절 (선택 - 입력 시 범위 읽기, 미입력 시 전체)
- 미션 제목 (선택)
- 미션 설명 (선택)

### 5. 사용자 인터페이스 요구사항

#### 5.1 반응형 디자인

- 모바일 우선 설계 (Mobile First)
- 태블릿, 데스크톱 화면 대응
- 터치 친화적 인터페이스

#### 5.2 사용자 경험

- 직관적이고 간단한 네비게이션
- 청소년 친화적인 UI/UX 디자인
- 빠른 로딩 속도 (3초 이내)
- 접근성 고려 (WCAG 2.1 AA 준수)

#### 5.3 주요 화면 구성

1. **메인 화면**: 오늘의 미션, 최신 소감, 내 활동 요약
2. **소감 게시판**: 게시물 목록, 작성, 상세보기
3. **미션 화면**: 오늘의 미션 상세, 읽기 체크
4. **셀 관리**: 셀 현황, 구성원 관리 (담당자만)
5. **마이페이지**: 내 정보, 내 소감, 알림 설정

### 6. 데이터베이스 설계 요구사항

#### 6.1 주요 엔티티

- **Users**: 사용자 정보
- **Posts**: 소감 게시물
- **Likes**: 좋아요 정보
- **Missions**: 미션 말씀
- **UserMissions**: 사용자별 미션 완료 현황
- **Cells**: 셀 정보
- **CellMembers**: 셀 구성원
- **Notifications**: 알림 정보
- **Messages**: 독려 메시지

#### 6.2 데이터 보안

- 개인정보 암호화 저장
- SQL Injection 방지
- XSS 공격 방지
- CSRF 토큰 적용

### 7. 성능 요구사항

#### 7.1 응답 시간

- 페이지 로딩: 3초 이내
- API 응답: 1초 이내
- 실시간 알림: 지연 없음

#### 7.2 동시 접속

- 최대 1,000명 동시 접속 지원
- 데이터베이스 커넥션 풀 관리
- 캐싱 전략 적용

### 8. 보안 요구사항

#### 8.1 인증/인가

- JWT 토큰 기반 인증
- 토큰 만료 시간: 24시간
- 리프레시 토큰 구현

#### 8.2 데이터 보호

- HTTPS 통신 강제
- 개인정보 최소 수집 원칙
- 데이터 백업 및 복구 계획

### 9. 배포 및 운영

#### 9.1 배포 환경

- 개발(Development), 스테이징(Staging), 운영(Production) 환경 분리
- CI/CD 파이프라인 구축
- 컨테이너 기반 배포 (Docker)

#### 9.2 모니터링

- 서버 성능 모니터링
- 에러 로그 수집 및 분석
- 사용자 행동 분석

### 10. 개발 일정 (예상)

#### Phase 1 (4주): 기본 기능 개발

- 사용자 인증 (구글 로그인)
- 소감 게시판 CRUD
- 미션 말씀 조회 기능

#### Phase 2 (3주): 소셜 기능 개발

- 좋아요 기능
- 셀 구성 기능
- 알림 기능

#### Phase 3 (2주): 관리자 기능 개발

- 미션 말씀 관리
- 셀 관리 도구

#### Phase 4 (2주): 테스트 및 배포

- 통합 테스트
- 성능 최적화
- 운영 배포

### 11. 성공 지표 (KPI)

- **사용자 참여**: 일일 활성 사용자 수
- **콘텐츠 활동**: 일일 소감 게시물 수
- **커뮤니티 활동**: 좋아요, 댓글 상호작용 수
- **미션 완료율**: 일일 성경 읽기 완료율
- **사용자 만족도**: 앱 스토어 평점, 사용자 피드백

---

이 PRD는 서비스의 기본 방향성을 제시하며, 개발 과정에서 사용자 피드백과 기술적 제약사항에 따라 조정될 수 있습니다.
